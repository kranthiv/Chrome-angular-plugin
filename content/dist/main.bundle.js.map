{"version":3,"sources":["webpack:///./src/app/app.component.scss","webpack:///./src/app/dialog/dialog.component.scss","webpack:///./src/app/app.component.html","webpack:///./src/app/dialog/dialog.component.html","webpack:///./src/app/dialog/dialog.component.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/journey-step.ts","webpack:///./src/app/journey.ts","webpack:///./src/app/services/pouch-bd.service.ts","webpack:///./src/environments/environment.ts"],"names":[],"mappings":";;;;;AAAA;AACA;;;AAGA;AACA,sCAAuC,oBAAoB,gBAAgB,iBAAiB,EAAE;;AAE9F;;;AAGA;AACA,2C;;;;;;;ACXA;AACA;;;AAGA;AACA,wCAAyC,iBAAiB,EAAE,yBAAyB,gBAAgB,EAAE,yBAAyB,gCAAgC,gCAAgC,yBAAyB,mCAAmC,kCAAkC,gCAAgC,gCAAgC,EAAE,mBAAmB,gBAAgB,EAAE;;AAErY;;;AAGA;AACA,2C;;;;;;;ACXA,4F;;;;;;;ACAA,kjCAAkjC,WAAW,sJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA1/B;AACJ;AAQ/D,IAAa,eAAe;IAI1B,yBAAgC,SAAuC,EAAgC,IAAQ;QAA/E,cAAS,GAAT,SAAS,CAA8B;QAAgC,SAAI,GAAJ,IAAI,CAAI;IAE/G,CAAC;IAED,kCAAQ,GAAR;QACE,IAAI,CAAC,UAAU,GAAG,IAAI,KAAK,EAAsB,CAAC;QAClD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC9B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC7B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACjC,CAAC;IAEH,sBAAC;AAAD,CAAC;AAhBY,eAAe;IAL3B,uFAAS,CAAC;QACT,QAAQ,EAAE,YAAY;QACtB,kCAAsC;QACtC,kCAAsC;KACvC,CAAC;IAKc,iGAAQ,EAAE,GAAiD,+FAAM,CAAC,yEAAc,CAAC;yDAApD,sEAAW,oBAAX,sEAAW;GAJ3C,eAAe,CAgB3B;AAhB2B;;;;;;;;;ACT5B;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;;;;;;;;;;;;;;ACN+C;AAC4B;AAE9B;AACY;AAEzD,EAAE,CAAC,CAAC,8EAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,4FAAc,EAAE,CAAC;AACnB,CAAC;AAED,wHAAsB,EAAE,CAAC,eAAe,CAAC,kEAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACVF;AACU;AACf;AACgB;AACA;AAC1B;AASnC,IAAa,YAAY;IAKvB,sBAAoB,OAAiB,EAAU,eAA+B;QAA1D,YAAO,GAAP,OAAO,CAAU;QAAU,oBAAe,GAAf,eAAe,CAAgB;IAC9E,CAAC;IACD,+BAAQ,GAAR;QACQ,MAAO,CAAC,SAAS,CAAC,GAAG,qCAAO,CAAC;QACnC,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IACD,iCAAU,GAAV;QAAA,iBAqBC;QApBC,IAAI,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;QACtC,IAAI,CAAC,WAAW,GAAG,IAAI,kEAAW,EAAE,CAAC;QACrC,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;QAC9C,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC;QAClC,IAAI,KAAK,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;QACpC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,uBAAuB,CAAC,UAAU,CAAC,CAAC;QACtD,IAAI,CAAC,MAAM,GAAG,IAAI,yEAAc,EAAE,CAAC;QACnC,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;QACpC,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,iFAAe,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;QAChE,SAAS,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,UAAC,MAAmB;YACpD,EAAE,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,CAAC,CAAC;gBACpB,IAAI,IAAI,GAAG,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,KAAI,CAAC,WAAW,CAAC,EAAE,EAAE,KAAI,CAAC,WAAW,CAAC,CAAC;gBAC3E,IAAI,CAAC,IAAI,CAAC,UAAC,MAAM;oBACf,OAAO,CAAC,IAAI,CAAC,sBAAsB,CAAC,CAAC;gBACvC,CAAC,CAAC;gBACF,IAAI,CAAC,KAAK,CAAC,UAAC,KAAK;oBACf,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBACvB,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sCAAe,GAAf;QACE,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,CAElC,UAAU,OAAO,EAAE,MAAM,EAAE,YAAY;YACrC,IAAI,SAAS,GAAG,MAAM,CAAC,YAAY,EAAE,CAAC;YACtC,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;YAC9C,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC;YAClC,IAAI,KAAK,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACpC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,uBAAuB,CAAC,UAAU,CAAC,CAAC;YACtD,IAAI,CAAC,MAAM,GAAG,IAAI,yEAAc,EAAE,CAAC;YACnC,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;YAEpC,4DAA4D;YAC5D,mDAAmD;YACnD,wBAAwB;YACxB,2DAA2D;YAC3D,yDAAyD;YACzD,uCAAuC;YACvC,4CAA4C;YAC5C,4BAA4B;YAC5B,MAAM;YACN,IAAI;YACJ,8CAA8C;QAChD,CAAC,CAAC,CAAC;IACP,CAAC;IACH,mBAAC;AAAD,CAAC;AA5DY,YAAY;IANxB,uFAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACpB,kCAAmC;QACnC,kCAAmC;QACnC,SAAS,EAAE,CAAC,mEAAQ,EAAE,kFAAc,CAAC;KACtC,CAAC;yDAM6B,mEAAQ,oBAAR,mEAAQ,sDAA2B,kFAAc,oBAAd,kFAAc;GALnE,YAAY,CA4DxB;AA5DwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdiC;AACjB;AACI;AACF;AACM;AAC4B;AAC9B;AACa;AAkB5D,IAAa,SAAS;IACpB;QACE,IAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QACjD,OAAO,CAAC,WAAW,GAAG,mBAAmB,CAAC;QAC1C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IACrC,CAAC;IACH,gBAAC;AAAD,CAAC;AANY,SAAS;IAhBrB,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,oEAAY;YACZ,iFAAe;SAChB;QACD,OAAO,EAAE;YACP,gFAAa;YACb,mEAAW;YACX,iEAAU;YACV,qGAAuB;YACvB,yEAAc,CAAC,OAAO,EAAE;SACzB;QACD,eAAe,EAAC,CAAC,iFAAe,CAAC;QACjC,SAAS,EAAE,EAAE;QACb,SAAS,EAAE,CAAC,oEAAY,CAAC;KAC1B,CAAC;;GACW,SAAS,CAMrB;AANqB;;;;;;;;;ACxBtB;AAAA;IAAA;QACa,OAAE,GAAU,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;QAC1C,UAAK,GAAU,EAAE,CAAC;QAClB,YAAO,GAAU,EAAE,CAAC;QACpB,WAAM,GAAU,EAAE,CAAC;QACnB,cAAS,GAAQ,EAAE,CAAC;IACxB,CAAC;IAAD,kBAAC;AAAD,CAAC;;;;;;;;;;ACND;AAAA;IAKI;QACI,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;QAC/B,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC;QAChC,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,EAAe,CAAC;IAC1C,CAAC;IACL,cAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACXwD;AACtB;AACA;AAGnC,IAAa,cAAc;IAMzB;QAFQ,YAAO,GAAsB,IAAI,mEAAY,EAAE,CAAC;QAItD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;YAEzB,IAAI,CAAC,QAAQ,GAAG,IAAI,qCAAO,CAAC,SAAS,CAAC,CAAC;YACvC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC3B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC7B,CAAC;IACH,CAAC;IAED,8BAAK,GAAL;QACE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,CAAC;IACvD,CAAC;IAED,4BAAG,GAAH,UAAI,EAAU;QACZ,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC/B,CAAC;IAED,4BAAG,GAAH,UAAI,EAAU,EAAE,QAAa;QAA7B,iBAiBC;QAhBC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAM;YAC7B,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YACpB,KAAI,CAAC,OAAO,GAAG,IAAI,yDAAO,EAAE,CAAC;YAC7B,KAAI,CAAC,OAAO,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;YAChC,KAAI,CAAC,OAAO,CAAC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC;YAC9B,WAAI,CAAC,OAAO,CAAC,KAAK,EAAC,IAAI,WAAI,MAAM,CAAC,KAAK,SAAC,QAAQ,IAAE;YAClD,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;;QACzC,CAAC,EAAE,eAAK;YACN,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,GAAG,CAAC,CAAC,CAAC;gBACzB,KAAI,CAAC,OAAO,GAAG,IAAI,yDAAO,EAAE,CAAC;gBAC7B,KAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAClC,MAAM,CAAC,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;YACzC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,MAAM,CAAC,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,IAAK,aAAM,CAAC,KAAK,CAAC,EAAb,CAAa,CAAC,CAAC;YACzD,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEH,qBAAC;AAAD,CAAC;AA3CY,cAAc;IAD1B,wFAAU,EAAE;;GACA,cAAc,CA2C1B;AA3C0B;;;;;;;;;ACL3B;AAAA,mFAAmF;AACnF,8FAA8F;AAC9F,yEAAyE;AACzE,gFAAgF;AAEhF,mFALmF;AAK5E,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC","file":"main.bundle.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".static-fab {\\n  position: fixed;\\n  right: 20px;\\n  bottom: 10px; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.scss\n// module id = 157\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".example-form {\\n  width: 500px; }\\n\\n.example-full-width {\\n  width: 100%; }\\n\\n.radio-button-group {\\n  display: -webkit-inline-box;\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row; }\\n\\n.radio-button {\\n  margin: 5px; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/dialog/dialog.component.scss\n// module id = 158\n// module chunks = 1","module.exports = \"<button md-fab (click)=\\\"openDialog()\\\" class=\\\"static-fab\\\">Add</button>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 162\n// module chunks = 1","module.exports = \"<form  class=\\\"example-form\\\"  #journeyDialog=\\\"ngForm\\\">\\n  <md-input-container class=\\\"example-full-width\\\">\\n    <input mdInput disabled [value]=\\\"data.id\\\">\\n  </md-input-container>\\n  <p>\\n    <md-input-container class=\\\"example-full-width\\\">\\n      <input mdInput placeholder=\\\"Title\\\" [(ngModel)]= \\\"data.title\\\" name=\\\"data.title\\\">\\n    </md-input-container>\\n  </p>\\n\\n  <p>\\n    <md-input-container class=\\\"example-full-width\\\">\\n      <textarea mdInput placeholder=\\\"Content\\\" [(ngModel)]=\\\"data.content\\\" name=\\\"data.content\\\"></textarea>\\n    </md-input-container>\\n  </p>\\n\\n  <p>\\n    <md-input-container class=\\\"example-full-width\\\">\\n      <input mdInput placeholder=\\\"Target\\\" [(ngModel)]=\\\"data.target\\\" name=\\\"data.target\\\">\\n    </md-input-container>\\n  </p>\\n \\n  <p>\\n    <label for=\\\"\\\">Placement</label>\\n    <md-radio-group class=\\\"radio-button-group\\\" [(ngModel)]=\\\"data.placement\\\" name=\\\"data.placement\\\">\\n      <md-radio-button class=\\\"radio-button\\\" *ngFor=\\\"let placement of placements\\\" [value]=\\\"placement\\\">\\n        {{placement}}\\n      </md-radio-button>\\n    </md-radio-group>\\n  </p>\\n</form>\\n<p> <button md-raised-button (click)=\\\"dialogRef.close(data)\\\">Save</button> </p>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/dialog/dialog.component.html\n// module id = 163\n// module chunks = 1","import { Component, OnInit, Optional,Inject } from '@angular/core';\nimport { MdDialogRef,MD_DIALOG_DATA } from '@angular/material';\nimport { JourneyStep } from \"../journey-step\";\nimport {placementDirection} from \"../journey-step\"\n@Component({\n  selector: 'app-dialog',\n  templateUrl: './dialog.component.html',\n  styleUrls: ['./dialog.component.scss']\n})\nexport class DialogComponent implements OnInit {\n  journeyStep: JourneyStep;\n  placements:Array<placementDirection>;\n  selectedPlacement:placementDirection;\n  constructor( @Optional() public dialogRef: MdDialogRef<DialogComponent>,@Inject(MD_DIALOG_DATA) public data:any ) {\n    \n  }\n\n  ngOnInit() {\n    this.placements = new Array<placementDirection>();\n    this.placements.push(\"right\");\n    this.placements.push(\"left\");\n    this.placements.push(\"top\");\n    this.placements.push(\"bottom\");\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/dialog/dialog.component.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 85;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 85\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component, OnInit } from '@angular/core';\nimport { DialogComponent } from './dialog/dialog.component';\nimport { JourneyStep } from \"./journey-step\";\nimport { MdDialog, MdDialogConfig } from '@angular/material';\nimport { PouchBDService } from \"./services/pouch-bd.service\";\nimport * as PouchDB from \"pouchdb\";\nimport { Journey } from \"app/journey\";\ndeclare var chrome: any;\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  providers: [MdDialog, PouchBDService]\n})\nexport class AppComponent implements OnInit {\n  closeResult: string;\n  journeyStep: JourneyStep;\n  lastDialogResult: string;\n  config: MdDialogConfig;\n  constructor(private _dialog: MdDialog, private _pouchDbService: PouchBDService) {\n  }\n  ngOnInit() {\n    (<any>window)[\"PouchDB\"] = PouchDB;\n    this.listenToMessage();\n  }\n  openDialog() {\n    let selection = window.getSelection();\n    this.journeyStep = new JourneyStep();\n    this.journeyStep.title = selection.toString();\n    console.log(selection.toString());\n    let range = selection.getRangeAt(0);\n    console.log(range.commonAncestorContainer.parentNode);\n    this.config = new MdDialogConfig();\n    this.config.data = this.journeyStep;\n    let dialogRef = this._dialog.open(DialogComponent, this.config);\n    dialogRef.afterClosed().subscribe((result: JourneyStep) => {\n      if (result !== null) {\n        let save = this._pouchDbService.put(this.journeyStep.id, this.journeyStep);\n        save.then((result) => {\n          console.info(\"saved to the indexdb\");\n        })\n        save.catch((error) => {\n          console.error(error);\n        });\n      }\n    });\n  }\n\n  listenToMessage() {\n    let self = this;\n    chrome.runtime.onMessage.addListener(\n\n      function (request, sender, sendResponse) {\n        let selection = window.getSelection();\n        self.journeyStep.title = selection.toString();\n        console.log(selection.toString());\n        let range = selection.getRangeAt(0);\n        console.log(range.commonAncestorContainer.parentNode);\n        self.config = new MdDialogConfig();\n        self.config.data = self.journeyStep;\n\n        // let allWithinRangeParent = range.commonAncestorContainer;\n        // console.log(allWithinRangeParent.parentElement);\n        // let allSelected = [];\n        // for (let i = 0, el; el = allWithinRangeParent[i]; i++) {\n        //   // The second parameter says to include the element \n        //   // even if it's not fully selected\n        //   if (selection.containsNode(el, true)) {\n        //     allSelected.push(el);\n        //   }\n        // }\n        // console.log('All selected =', allSelected);\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport {MaterialModule} from '@angular/material';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport { AppComponent } from './app.component';\nimport { DialogComponent } from './dialog/dialog.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    DialogComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    BrowserAnimationsModule,\n    MaterialModule.forRoot()\n  ],\n  entryComponents:[DialogComponent],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { \n  constructor(){\n    let rootDiv = document.createElement(\"app-root\");\n    rootDiv.textContent = \"......Loading!!!!\";\n    document.body.appendChild(rootDiv);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","export type placementDirection = \"top\" | \"bottom\" | \"right\" | \"left\";\nexport class JourneyStep {\n    readonly id:string = window.location.href;\n    title:string = \"\";\n    content:string = \"\";\n    target:string = \"\";\n    placement:string=\"\"; \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/journey-step.ts","import { JourneyStep } from \"./journey-step\";\nexport class Journey implements PouchDB.Core.IdMeta, PouchDB.Core.RevisionIdMeta {\n    _rev: string;\n    readonly id: string;\n    _id: string;\n    steps: Array<JourneyStep>;\n    constructor() {\n        this.id = window.location.href;\n        this._id = window.location.href;\n        this.steps = new Array<JourneyStep>();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/journey.ts","import { Injectable, EventEmitter } from '@angular/core';\nimport {Journey} from \"../journey\";\nimport * as PouchDB from \"pouchdb\";\ndeclare var window: any;\n@Injectable()\nexport class PouchBDService {\n\n  private isInstantiated: boolean;\n  private database: PouchDB.Database<any>;\n  private listner: EventEmitter<any> = new EventEmitter();\n  private journey: Journey;\n  constructor() {\n\n    if (!this.isInstantiated) {\n\n      this.database = new PouchDB(\"onboard\");\n      console.log(this.database);\n      this.isInstantiated = true;\n    }\n  }\n\n  fetch() {\n    return this.database.allDocs({ include_docs: true });\n  }\n\n  get(id: string): Promise<any> {\n    return this.database.get(id);\n  }\n\n  put(id: string, document: any): Promise<PouchDB.Core.Response> {\n    return this.get(id).then(result => {\n      console.log(result);\n      this.journey = new Journey();\n      this.journey._rev = result._rev;\n      this.journey._id = result._id;\n      this.journey.steps.push(...result.steps,document);\n      return this.database.put(this.journey);\n    }, error => {\n      if (error.status === 404) {\n        this.journey = new Journey();\n        this.journey.steps.push(document);\n        return this.database.put(this.journey);\n      } else {\n        return new Promise((resolve, reject) => reject(error));\n      }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/pouch-bd.service.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts"],"sourceRoot":""}