{"version":3,"sources":["webpack:///./src/environments/environment.ts","webpack:///./src/app/app.component.scss","webpack:///./src/app/dialog/dialog.component.scss","webpack:///./src/app/app.component.html","webpack:///./src/app/dialog/dialog.component.html","webpack:///./src/app/dialog/dialog.component.ts","webpack:///./src/app/services/common.service.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/journey-step.ts","webpack:///./src/app/journey.ts","webpack:///./src/app/services/download.service.ts","webpack:///./src/app/services/pouch-bd.service.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".static-fab-right {\\n  position: fixed;\\n  right: 20px;\\n  bottom: 10px; }\\n\\n.static-fab-left {\\n  position: fixed;\\n  left: 20px;\\n  bottom: 10px; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.scss\n// module id = 159\n// module chunks = 1","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".form {\\n  width: 500px; }\\n\\n.full-width {\\n  width: 100%; }\\n\\n.radio-button-group {\\n  display: -webkit-inline-box;\\n  display: -ms-inline-flexbox;\\n  display: inline-flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row; }\\n\\n.radio-button {\\n  margin: 5px; }\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/dialog/dialog.component.scss\n// module id = 160\n// module chunks = 1","module.exports = \"<button md-fab (click)=\\\"downloadJourney()\\\" class=\\\"static-fab-left\\\">Save</button>\\r\\n<button md-fab (click)=\\\"openDialog()\\\" class=\\\"static-fab-right\\\">Add</button>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 165\n// module chunks = 1","module.exports = \"<form class=\\\"form\\\" #journeyDialog=\\\"ngForm\\\">\\n  <md-input-container class=\\\"full-width\\\">\\n    <label for=\\\"journey-id\\\">Target\\n    <input id=\\\"journey-id\\\" mdInput disabled [value]=\\\"data.id\\\">\\n    </label>\\n  </md-input-container>\\n  <p>\\n    <md-input-container class=\\\"full-width\\\">\\n      <input mdInput placeholder=\\\"Title\\\" [(ngModel)]=\\\"data.title\\\" name=\\\"data.title\\\">\\n    </md-input-container>\\n  </p>\\n\\n  <p>\\n    <md-input-container class=\\\"full-width\\\">\\n      <textarea mdInput placeholder=\\\"Content\\\" required [(ngModel)]=\\\"data.content\\\" name=\\\"data.content\\\"></textarea>\\n    </md-input-container>\\n  </p>\\n\\n  <p>\\n    <md-input-container class=\\\"full-width\\\">\\n      <label for=\\\"journey-target\\\">Target\\n      <input id=\\\"journey-target\\\" mdInput [value]=\\\"data.target\\\" name=\\\"data.target\\\" disabled>\\n      </label>\\n    </md-input-container>\\n  </p>\\n\\n  <p>\\n    <label for=\\\"\\\">Placement</label>\\n    <md-radio-group class=\\\"radio-button-group\\\" [(ngModel)]=\\\"data.placement\\\" name=\\\"data.placement\\\">\\n      <md-radio-button class=\\\"radio-button\\\" *ngFor=\\\"let placement of placements\\\" [value]=\\\"placement\\\">\\n        {{placement}}\\n      </md-radio-button>\\n    </md-radio-group>\\n  </p>\\n</form>\\n\\n<p>\\n  <button md-raised-button (click)=\\\"dialogRef.close('cancel')\\\">Cancel</button>\\n  <button md-raised-button (click)=\\\"dialogRef.close(data)\\\">Save</button>\\n</p>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/dialog/dialog.component.html\n// module id = 166\n// module chunks = 1","import { Component, OnInit, Optional,Inject } from '@angular/core';\nimport { MdDialogRef,MD_DIALOG_DATA } from '@angular/material';\nimport { JourneyStep } from \"../journey-step\";\nimport {placementDirection} from \"../journey-step\"\n@Component({\n  selector: 'app-dialog',\n  templateUrl: './dialog.component.html',\n  styleUrls: ['./dialog.component.scss']\n})\nexport class DialogComponent implements OnInit {\n  journeyStep: JourneyStep;\n  placements:Array<placementDirection>;\n  selectedPlacement:placementDirection;\n  constructor( @Optional() public dialogRef: MdDialogRef<DialogComponent>,@Inject(MD_DIALOG_DATA) public data:any ) {\n    \n  }\n\n  ngOnInit() {\n    this.placements = new Array<placementDirection>();\n    this.placements.push(\"right\");\n    this.placements.push(\"left\");\n    this.placements.push(\"top\");\n    this.placements.push(\"bottom\");\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/dialog/dialog.component.ts","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class CommonService {\n\n  constructor() { }\n\n  parseURI(url: string): string {\n    let _url = new URL(url);\n    let unique = \"\";\n    if (_url===undefined) {\n      console.error(\"url is on wrong format\", url);\n      return \"ERROR\";\n    }\n    if (_url.hostname) {\n      unique = _url.hostname.replace (/\\./g, \"_\").replace (/\\//g, \"_\")\n    }\n    if (_url.pathname) {\n      let pathName = _url.pathname.replace (/\\./g, \"_\").replace (/\\//g, \"_\");\n      unique = unique + \"_\" + pathName;\n    }\n    return unique;\n  }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/common.service.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 86;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 86\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component, OnInit, Inject, HostListener, ElementRef } from '@angular/core';\nimport { DialogComponent } from './dialog/dialog.component';\nimport { JourneyStep } from \"./journey-step\";\nimport { MdDialog, MdDialogConfig } from '@angular/material';\nimport { PouchBDService } from \"./services/pouch-bd.service\";\nimport { DownloadService } from \"./services/download.service\";\nimport {CommonService} from \"./services/common.service\";\nimport * as PouchDB from \"pouchdb\";\nimport { Journey } from \"app/journey\";\nimport { DOCUMENT } from \"@angular/platform-browser\";\nimport * as $ from \"jquery\";\ndeclare let chrome: any;\n@Component({\n  selector: 'onBoard-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  providers: [MdDialog, PouchBDService, DownloadService]\n})\nexport class AppComponent implements OnInit {\n  closeResult: string;\n  journeyStep: JourneyStep;\n  lastDialogResult: string;\n  config: MdDialogConfig;\n  constructor( @Inject(DOCUMENT) private document: Document, private _dialog: MdDialog, private _pouchDbService: PouchBDService\n                , private _downloadService: DownloadService,private _commonService:CommonService) {\n\n  }\n  ngOnInit() {\n    (<any>window)[\"PouchDB\"] = PouchDB;\n    this.listenToMessage();\n  }\n  private openDialog() {\n    let selection = window.getSelection();\n    this.journeyStep = new JourneyStep();\n    this.journeyStep.title = selection.toString();\n    let range = selection.getRangeAt(0);\n    this.journeyStep.target = this.generateSelector(range.commonAncestorContainer.parentElement);\n    this.config = new MdDialogConfig();\n    this.config.data = this.journeyStep;\n    let dialogRef = this._dialog.open(DialogComponent, this.config);\n    dialogRef.afterClosed().subscribe((result: JourneyStep | string) => {\n      if (result !== null && result !== \"cancel\") {\n        let save = this._pouchDbService.put(this.journeyStep.id, this.journeyStep);\n        save.then((result) => {\n          console.info(\"saved to the indexdb\");\n        });\n        save.catch((error) => {\n          console.error(error);\n        });\n      } else {\n        console.info(\"step not added\");\n      }\n    });\n  }\n\n  downloadJourney() {\n    let name = this._commonService.parseURI(window.location.href);\n    let journey = this._pouchDbService.get(this._commonService.parseURI(window.location.href));\n    journey.then((result: any) => {\n      this._downloadService.downloadJSON<string>(JSON.stringify(result), `${name}.json`);\n    });\n\n  }\n  // @HostListener('document:mouseover', ['$event'])\n  // highlightElementsOnMouseOver($event: MouseEvent) {\n  //   let selection = window.getSelection();\n  //   if(selection===null || selection.toString()==='')\n  //   {\n  //     $event.srcElement.classList.add('mark--for-journey');\n  //   }\n  //   return false;\n  // }\n\n\n  // @HostListener('document:mouseout', ['$event'])\n  // highlightElementsOnMouseOut($event: MouseEvent) {\n  //   let selection = window.getSelection();\n  //   if(selection===null || selection.toString()==='')\n  //   {\n  //     $event.srcElement.classList.remove('mark--for-journey');\n  //   }\n  //   return false;\n  // }\n  listenToMessage() {\n    let self = this;\n    chrome.runtime.onMessage.addListener(\n      function (request, sender, sendResponse) {\n        let selection = window.getSelection();\n        self.journeyStep.title = selection.toString();\n        console.log(selection.toString());\n        let range = selection.getRangeAt(0);\n        console.log(range.commonAncestorContainer.parentNode);\n        self.config = new MdDialogConfig();\n        self.config.data = self.journeyStep;\n      });\n  }\n\n  generateSelector(el) {\n    let selector = \"\";\n    let tree = $(el).parentsUntil(document);\n\n    // generate full selector by traversing DOM from bottom-up\n    console.clear();\n    for (let i = -1; i < tree.length; i++) {\n      let e = i < 0 ? el : tree[i];\n\n      let eCSS = this.querifyElement(e);\n      console.log(\"selectors from selected element\", eCSS);\n      let query = eCSS.query + (selector.length ? ' > ' : '') + selector;\n\n      let matches = $(query);\n      console.log(\"QUERY: \" + query);\n\n      if (matches.length === 1 && matches[0] === el) {\n        console.log('   single match (result)');\n        return query;\n      }\n      else if (matches.length > 1 && i + 1 < tree.length) {\n        console.log('   many matches');\n\n        let parentQuery = this.generateSelector(tree[i + 1]);\n        let parentMatches = $(parentQuery).children(eCSS.tag);\n        let nthQuery = eCSS.tag + ':nth-of-type(' + (parentMatches.index(el) + 1) + ')' + (selector.length ? ' > ' : '') + selector;\n        let parentNthQuery = parentQuery + ' > ' + nthQuery;\n        let nthMatches = $(parentNthQuery);\n\n        console.log(\"PARENT_QUERY: \" + parentQuery);\n        console.log(\"__ELEMENT__\");\n        console.log(e)\n        console.log(\"__PARENT__\");\n        console.log($(parentQuery)[0])\n        console.log(\"__PARENT_MATCHES__\");\n        console.log(parentMatches)\n        console.log(\"PARENT_NTH_QUERY: \" + parentNthQuery);\n\n        if (nthMatches.length === 1 && nthMatches[0] === el) {\n          console.log('   single match with nth-of-type (result)');\n          return parentNthQuery;\n        }\n        else {\n          // console.log('   many matches with nth-of-type (continue)');\n          // selector = nthQuery;\n          return 'ERROR';\n        }\n      }\n      else {\n        if (matches.length === 1) console.log(\"Matched incorrect element. (matches.length = \" + matches.length + \")\")\n        else if (matches.length > 1) console.log(\"Multiple matches, but traversed entire tree (algorithm not being specific enough).\")\n        else console.log(\"Could not find match for tag/id/class selector. (matches.length = \" + matches.length + \")\")\n        return 'ERROR';\n      }\n    }\n\n    return selector;\n  }\n\n  // returns object with element information in query format\n  querifyElement(e) {\n    if (!e) return null;\n    let tag = e.tagName.toLowerCase();\n    let ids = e.id ? '#' + e.id.trim().split(' ').join('#') : \"\";\n    let classes = e.className ? '.' + this.constructClassQuery(e.className) : \"\";\n    let query = tag + ids + classes;\n    return {\n      element: e,\n      tag: tag,\n      ids: ids,\n      classes: classes,\n      query: query\n    }\n  }\n  constructClassQuery(classCollection: string) {\n    let classes: Array<string> = classCollection.trim().split(\" \").filter((item) => {\n      if (item.trim() !== '') return item.trim();\n    });\n    return classes.join(\".\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule,Inject } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\nimport {MaterialModule} from '@angular/material';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport { AppComponent } from './app.component';\nimport { DialogComponent } from './dialog/dialog.component';\nimport { CommonService } from \"app/services/common.service\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    DialogComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    BrowserAnimationsModule,\n    MaterialModule.forRoot()\n  ],\n  entryComponents:[DialogComponent],\n  providers: [CommonService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { \n  constructor(){\n    let rootDiv = document.createElement(\"onBoard-root\");\n    rootDiv.textContent = \"......Loading!!!!\";\n    document.body.appendChild(rootDiv);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","export type placementDirection = \"top\" | \"bottom\" | \"right\" | \"left\";\nexport class JourneyStep {\n    readonly id:string;\n    title:string = \"\";\n    content:string = \"\";\n    target:string = \"\";\n    placement:string=\"\"; \n    constructor(){\n        this.id = this.parseURI(window.location.href);\n    }\n\n    parseURI(url: string): string {\n    let _url = new URL(url);\n    let unique = \"\";\n    if (_url===undefined) {\n      console.error(\"url is on wrong format\", url);\n      return \"ERROR\";\n    }\n    if (_url.hostname) {\n      unique = _url.hostname.replace (/\\./g, \"_\").replace (/\\//g, \"_\")\n    }\n    if (_url.pathname) {\n      let pathName = _url.pathname.replace (/\\./g, \"_\").replace (/\\//g, \"_\");\n      unique = unique + \"_\" + pathName;\n    }\n    return unique;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/journey-step.ts","import { JourneyStep } from \"./journey-step\";\nimport {CommonService} from \"./services/common.service\";\nexport class Journey implements PouchDB.Core.IdMeta, PouchDB.Core.RevisionIdMeta {\n    _rev: string;\n    readonly id: string;\n    _id: string;\n    steps: Array<JourneyStep>;\n    constructor() {\n        this.id = this.parseURI(window.location.href);\n        this._id = this.id;\n        this.steps = new Array<JourneyStep>();\n    }\n    parseURI(url: string): string {\n    let _url = new URL(url);\n    let unique = \"\";\n    if (_url===undefined) {\n      console.error(\"url is on wrong format\", url);\n      return \"ERROR\";\n    }\n    if (_url.hostname) {\n      unique = _url.hostname.replace (/\\./g, \"_\").replace (/\\//g, \"_\")\n    }\n    if (_url.pathname) {\n      let pathName = _url.pathname.replace (/\\./g, \"_\").replace (/\\//g, \"_\");\n      unique = unique + \"_\" + pathName;\n    }\n    return unique;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/journey.ts","import { Injectable, Renderer2 } from '@angular/core';\n\n@Injectable()\nexport class DownloadService{\n  constructor(private _renderer:Renderer2) { \n    \n  }\n  downloadJSON<T>(data:T,fileName:string):boolean{\n\n    let _data:string = \"\";\n    if(!data) {\n            console.error('Console.save: No data')\n            return;\n        }\n\n        if(!fileName) fileName = 'journey.json'\n\n        if(typeof data === \"object\"){\n            _data = JSON.stringify(data, undefined, 4)\n        }\n        let blob = new Blob([data], {type: 'text/json'}),\n            e    = document.createEvent('MouseEvents'),\n            a    = document.createElement('a');\n        a.download = fileName;\n        a.href = window.URL.createObjectURL(blob);\n        a.dataset.downloadurl =  ['text/json', a.download, a.href].join(':');\n        e.initMouseEvent('click', true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n        a.dispatchEvent(e);\n    console.log(\"downlod initilized\",_data);\n    return true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/download.service.ts","import { Injectable, EventEmitter } from '@angular/core';\nimport {Journey} from \"../journey\";\nimport * as PouchDB from \"pouchdb\";\ndeclare var window: any;\n@Injectable()\nexport class PouchBDService {\n\n  private isInstantiated: boolean;\n  private database: PouchDB.Database<any>;\n  private listner: EventEmitter<any> = new EventEmitter();\n  private journey: Journey;\n  constructor() {\n\n    if (!this.isInstantiated) {\n\n      this.database = new PouchDB(\"onboard\");\n      console.log(this.database);\n      this.isInstantiated = true;\n    }\n  }\n\n  fetch() {\n    return this.database.allDocs({ include_docs: true });\n  }\n\n  get(id: string): Promise<any> {\n    return this.database.get(id);\n  }\n\n  put(id: string, document: any): Promise<PouchDB.Core.Response> {\n    return this.get(id).then(result => {\n      console.log(result);\n      this.journey = new Journey();\n      this.journey._rev = result._rev;\n      this.journey._id = result._id;\n      this.journey.steps.push(...result.steps,document);\n      return this.database.put(this.journey);\n    }, error => {\n      if (error.status === 404) {\n        this.journey = new Journey();\n        this.journey.steps.push(document);\n        return this.database.put(this.journey);\n      } else {\n        return new Promise((resolve, reject) => reject(error));\n      }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/services/pouch-bd.service.ts"],"sourceRoot":""}